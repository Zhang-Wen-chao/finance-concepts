# 利率换算与收益率 (Interest Rate Conversions)

> 同一个名义利率，因复利频率不同会有不同的真实收益；掌握换算后才能公平比较。

## 学习目标

- 区分名义利率、有效年利率 (EAR)、年化利率、日利率等概念。
- 理解年百分率 (APR)、年化收益率 (APY) 的差异。
- 能够在不同复利频率之间进行利率换算。
- 了解连续复利、对数收益率在金融中的应用。

## 关键概念

- **名义利率 (Nominal Rate)**：标称的年利率，需结合复利频率使用。
- **有效年利率 (Effective Annual Rate, EAR)**：一年后实际获得的复合回报率。
- **APR (Annual Percentage Rate)**：不考虑复利的年化利率（常用于贷款），APR/期数 = 每期利率。
- **APY (Annual Percentage Yield)**：与 EAR 相同，常用于存款。
- **连续复利利率**：假设无限频率复利，计算更简便，常用于定价模型。

## 利率换算公式

若名义年利率为 `r_{nom}`，每年复利 `m` 次：

```math
EAR = \left(1 + \frac{r_{nom}}{m}\right)^m - 1
```

反之，已知 `EAR`，求名义利率：

```math
r_{nom} = m \left( (1 + EAR)^{1/m} - 1 \right)
```

连续复利的有效利率：

```math
EAR = e^{r_c} - 1 \qquad r_c = \ln(1 + EAR)
```

## 示例

1. 年利率 12%，按月复利：`EAR = (1 + 0.12/12)^12 - 1 ≈ 12.68%`
2. 年利率 5%，按季度复利：`EAR = (1 + 0.05/4)^4 - 1 ≈ 5.095%`
3. 如果 EAR = 10%，且按半年复利，`r_{nom} = 2((1 + 0.10)^{1/2} - 1) ≈ 9.54%`
4. 连续复利：`EAR = e^{0.06} - 1 ≈ 6.18%`

## APR 与 APY

- **贷款情境**：APR 通常未考虑复利（例如信用卡月费率 × 12），需要换算成 EAR 判断真实成本。
- **存款情境**：APY = EAR，直接体现实际收益。
- 比较产品时应统一使用 EAR/APY。

## 对数收益率 (Log Return)

- 定义：`\ln(FV/PV)`，对应连续复利利率。
- 特点：可加性（多期对数收益相加等于总收益），适合统计分析。
- 与单期收益的关系：`简单收益 ≈ 对数收益`（收益率较小时）。

## Excel / Python

- Excel：
  - `EFFECT(nominal_rate, npery)` 计算 EAR；`NOMINAL(effect_rate, npery)` 计算名义利率。
  - `RATE`, `EFFECT`, `EAR` 等函数配合使用。
- Python：
  ```python
  import math
  ear = (1 + 0.12/12)**12 - 1
  rc = math.log(1 + ear)
  ```

## 快速自测

1. 储蓄卡月利率 0.4%，换算成年化有效利率是多少？与银行宣传的 4.8% 关系如何？
2. 一笔贷款 APR 为 18%，按月计息，实际年利率是多少？
3. 若一家公司债券收益采用连续复利 7%，与按季度复利的名义利率相比，哪个收益更高？如何换算？

### 参考答案与解析

1. EAR = `(1 + 0.004)^12 - 1 ≈ 4.91%`，略高于 4.8%，说明宣传的 4.8% 是名义值。
2. 每月利率 1.5%，EAR = `(1 + 0.15)^12 - 1 ≈ 19.56%`。
3. 连续复利 `EAR = e^{0.07} - 1 ≈ 7.25%`；若按季度复利 `r_{nom}` 满足 `(1 + r_{nom}/4)^4 - 1 = 7.25%` → `r_{nom} ≈ 7.04%`。两者本质相当，只是表现形式不同。

## 延伸阅读

- CFA Quantitative Methods：Interest Rate Conversions
- Excel 函数：`EFFECT`, `NOMINAL`, `RATE`
- 《投资学》关于收益率与收益度量的章节
- Quantitative finance 课程的收益率度量

---

下一步学习 `05-discounting-npv.md`，将利率应用到净现值、内部收益率和贴现曲线分析。 
